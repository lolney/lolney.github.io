<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="generator" content="Hugo 0.37" /> 
<title>Readings - Luke Olney</title>
<meta property="og:title" content="Readings - Luke Olney">      
<link href="https://lolney.github.io/readings/index.xml" rel="alternate" type="application/rss+xml" title="Luke Olney" />  

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>



<script type="text/javascript" src="https://lolney.github.io/js/readmore.js"></script> 


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116576963-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() { dataLayer.push(arguments); }
	gtag('js', new Date());

	gtag('config', 'UA-116576963-1');
</script>


<link rel="stylesheet" href="https://lolney.github.io/css/main.css" media="all">
<link rel="stylesheet" href="https://lolney.github.io/css/fonts.css">
  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://lolney.github.io/" class="nav-logo">
    <img src="https://lolney.github.io/images/logo.png" 
         width="50" 
         height="50" 
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/projects/">Projects</a></li>
    
    <li><a href="/readings/">Readings</a></li>
    
  </ul>
</nav>

      </header>


<main class="content">

    <article>
        <header>
            <h1 class="article-title">Readings</h1>
        </header>
        
        <p>Short summaries of stuff I&rsquo;ve read (mostly technical blogs or papers) that don&rsquo;t deserve their own post.</p>

    </article>
    <ul>

        <div class="list">
            
            <h2 class="list-title">2018</h2>
             <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="https://docs.google.com/viewer?url=https%3A%2F%2Fdrum.lib.umd.edu%2Fbitstream%2Fhandle%2F1903%2F542%2FCS-TR-2222.ps%3Fsequence%3D1%26isAllowed%3Dy">Skip List</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 06 April 2018 ">06 April 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/data-structures">Data Structures</a>
        <a href="/tags/algorithms">Algorithms</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>The skip list is an alternative to balanced search trees, especially suited for distributed applications. MemSQL is probably the primary adopter, using skip lists as its primary index structure, but they&rsquo;re <a href="https://github.com/antirez/redis/blob/unstable/src/t_zset.c#L31">also used in Redis</a> to implement ordered sets.</p>

<p>This image from the paper shows what the data structure looks like. A node contains k pointers, with the ith pointer pointing to the next node of level i:
<img src="/img/skip-list.png" alt="A skip list" /></p>

<p>The paper defends the claims that 1) concurrency guarantees are easier to implement for skip lists than for balanced trees, requiring only write locks, and 2) the data structure is very unlikely to become significantly unbalanced.</p>

<p>To ensure that readers are not disrupted by writes in the absence of read locks, x is updated to point to its predecessor after removing x. Proofs are supplied for the correctness guarantees, among them that the list remains sorted and the lock is held only by the deleted key.</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="http://vas3k.com/blog/touchbar/">Making the Touch Bar finally useful</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 05 April 2018 ">05 April 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/software">Software</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>This is a pretty neat showcase about customizing the touchbar on the latest Macbook Pros. It&rsquo;s appropriate that it begins with a picture of the author&rsquo;s super customized Linux desktop from 2007, because the last time I thought about this sort of thing was while reading &ldquo;show off your desktop&rdquo; threads in Macrumors threads c. 2007-2008. I wasn&rsquo;t aware that Applescript was so capable &ndash; it has super convient APIs for apps like Spotify and concise JSON fetching and parsing.</p>

<p>It sort of makes me want to get a MBP, even though my impressions of it have soured because of the constant negativity about it on Hacker News and elsewhere.</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="https://github.com/worldmodels/worldmodels.github.io/blob/master/draft.md">World Models</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 04 April 2018 ">04 April 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/machine-learning">Machine learning</a>
        <a href="/tags/rnns">RNNs</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>This is an interesting &ndash; paraphrasing from the article &ndash; &ldquo;distillation of reinforcement learning research from the past two decades,&rdquo; approaching from a cognitive science perspective. It considers the paradigm of training a large (many parameter) model to build a representation of the environment and its future, then training a smaller controller model, which outputs actions, from that representation. The future model, they argue, is similar to the way that humans make decisions &ndash; by considering how their actions will affect the future.</p>

<p>The RNN part of the model uses an approach similar to the one that <a href="https://magenta.tensorflow.org/sketch-rnn-demo">SketchRNN</a> does to predict future actions. It sends compressed version of the environment through a feed-forward RNN, taking, at each stage t, the hidden vector h<em>{t-1}, the action a</em>{t-1}, and an additional input z_{t-1}. z_t is a vector sampled from the mixture of Gaussian distributions output by a <a href="http://blog.otoro.net/2015/11/24/mixture-density-networks-with-tensorflow/">Mixture Density Network</a>.</p>

<p>These actions are generated by the final layer of the model, the controller, which takes h_t and z_t as input.
<img src="https://raw.githubusercontent.com/worldmodels/worldmodels.github.io/master/assets/world_model_schematic.svg?sanitize=true" alt="Everything together" /></p>

<p>They conduct a variety of experiments using various combinations of the three layers, showing, eg, that the full model is better than just using the RNN as input to the controller.</p>

<p>What&rsquo;s interesting is that they can use the VAE to decode the latent vectors in the MDN-RNN model, giving a representation of the model&rsquo;s prediction of the future environment. After training the model only to learn this virtual representation, they can then train the M and C layers on it and apply it to the real environment.</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="http://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/">What color is your function?</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 03 April 2018 ">03 April 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/programming">Programming</a>
        <a href="/tags/programming-languages">Programming Languages</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>This blog post imagines a programming language with &ldquo;colored functions&rdquo; &ndash; function are either blue or red, and differently-colored functions cannot be passed to or called from each other, plus have different calling conventions &ndash; as an analogy for async functions. The point, I suppose, is to show the unwieldiness of interactions between async and code. After trying to navigate [futures in Rust for a while](), I can see the point. As the author notes, futures don&rsquo;t do much to solve the ugliness of the hand-off between sync and async code. There needs to ultimately be a method for handling separate independent callstacks.</p>

<p>One area where this manifests: API design. The API creator must decide whether to expose async functions, leaving sync users to de-async the result themselves, or sync functions, which async users are left to wrap (potentially wasteful, as the library had to do this itself at some point).</p>

<p>The <a href="https://news.ycombinator.com/item?id=8984648">HN comments for this post</a> are insightful, with the top commenter noting that the red-blue language is &ldquo;essentially Haskell&rdquo; (with blue and red monoids), and another noting that golang solves this problem by making the whole program &ldquo;red&rdquo; (async).</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="https://github.com/sellout/Iaia">Iaia</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 01 April 2018 ">01 April 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/programming-languages">Programming Languages</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>A lot of PL research is about better patterns of programming, covering new ways of abstracting patterns that you encounter in a real codebase. Two of the most beloved courses at NU, Prof. Robby Findler&rsquo;s courses on Compilers and Programming Languages, are built on that principle: they are basically programming seminars, with very little formal introduction to the concepts they cover - instead letting them reveal themselves through the assignments. Indeed, a compiler isn&rsquo;t built the way it is because the concept of a &lsquo;compiler&rsquo; is written in natural law - it&rsquo;s a revealed way of handling the complexity that comes with all the forms the grammar of the language can express itself.</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="https://github.com/rust-lang/rfcs/pull/1888/files">Tail Calls in Rust</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 01 April 2018 ">01 April 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/rust">Rust</a>
        <a href="/tags/rust-internals">Rust Internals</a>
        <a href="/tags/programming-languages">Programming Languages</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>The main transformation to enable tail calls is to replace the function call <code>f</code> with a <code>goto</code>, calling destructors on local variables, then replacing the original arguments of the current function with the arguments of <code>f</code>. The normal borrow semantics for the return should therefore apply.</p>

<p>A tail call is only valid if there is nothing to be done in the caller after the call. This implementation checks this by first creating a node for <code>become</code> in HIR, then later, in MIR, checks that the &ldquo;basic block being branched into&rdquo; either &ldquo;has length zero&rdquo; or &ldquo;terminates with a return.&rdquo; I assume that this &ldquo;basic block being branched into&rdquo; contains whatever follows the <code>become</code> statement, and branches to another basic block if there&rsquo;s anything more to do after the <code>become</code>; otherwise falling into the cases mentioned.</p>

<p>Also notes the main reason tail calls haven&rsquo;t been implemented yet: portability. They&rsquo;re not supported in several targets, like WebAssembly, which is something that the Rust developers apparently won&rsquo;t tolerate.</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="https://github.com/ipfs/ipfs/blob/master/papers/ipfs-cap2pfs/ipfs-p2p-file-system.pdf?raw=true">IPFS (Interplanetary File System) Proposal Paper</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 27 March 2018 ">27 March 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/papers">Papers</a>
        <a href="/tags/distributed-systems">Distributed Systems</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>IPFS is a distributed file system. It combines ideas from Kademlia, Bittorrent, Git,and Self-Certified Filesystems, taking respectively 1) routing and node identity, 2) block exchange, 3) Merkle tree-based verification and versioning, and 4) self-certification - addresses derived from public keys.</p>

<p>The result is something like a DHT that stores Git objects and uses the Bittorrent protocol for distribution. The certificate system, which does not rely on a trusted 3rd party to map addresses to public keys, is another major feature, allowing public-key encryption and ensuring that a malicious node can&rsquo;t impersonate a node that has already established trust.</p>

<p>The block exchange protocol, called BitSwap, is a modified version of Bittorrent&rsquo;s. Bittorrent provides incentives for seeding - the standard seeding strategy is to prioritize seeding to the n peers that are themselves the best seeders. BitSwap is similar, but the choice of which peers to seed to is probabilistic, depending on that peer&rsquo;s ratio of sent:received objects. Since this probability is based on <em>lifetime ratios</em>, a peer can stop uploading for a short time and not have its download rates affected much.</p>

<p>Bittorrent also encourages the sharing of rare pieces by making sure that rare pieces are requested first. If this is a demand-side incentive - demand is increased for rare pieces - BitSwap&rsquo;s solution is supply-side - peers are encouraged to seek objects that their peers also want. This allows a peer to contribute even if it currently does not want any objects.</p>

<p>The file system itself is implemented as a Merkle DAG, very similar to Git&rsquo;s. Objects have links to other objects, represented as their hashes. <code>Tree</code> objects represent directories, <code>blob</code>s data, and <code>commit</code>s represent snapshots of a collection of objects in some state. IPFS, unlike git, also has <code>list</code>s, which can contain blobs or other lists. Like Git, objects are deduplicated because they are addressed by their hashes. They are also immutable and permanent: once mutated, an object&rsquo;s hash changes, and there is no command in the protocol to delete the previous version.</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="https://bugs.chromium.org/p/project-zero/issues/list?can=1&amp;q=dns&#43;rebinding&amp;colspec=ID&#43;Type&#43;Status&#43;Priority&#43;Milestone&#43;Owner&#43;Summary&amp;cells=ids">DNS Rebinding</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 23 March 2018 ">23 March 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/security">Security</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>These attacks involve using DNS rebinding to allow a website to send requests to HTTP servers on a user&rsquo;s machine. The targets include RPC servers included with uTorrent and with Blizzard Updater.</p>

<p>DNS rebinding is meant to get around the same origin policy. The scheme is: setup a domain and a DNS server with a short TTL. Once that&rsquo;s expired, serve a script that makes a request to the origin domain - but when the browser makes a DNS request, respond with localhost instead. That way, the request gets routed to the target instead.</p>

<p>Each vulnerable app also failed to provide authentication that could prevent the attack. The Blizzard Updater included an auth token with each response, presumably setting Access-Control-Allow-Credentials to prevent bad actors from reading it - but DNS rebinding circumvented this.</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="https://aturon.github.io/apr/">Async in Rust</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 22 March 2018 ">22 March 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/programming">Programming</a>
        <a href="/tags/rust">Rust</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>Asynchronous programming usually aim to make it easier to reason about asynchronous operations. For example, by avoiding explicitly working with threads &ndash; the asynchronous library handles that itself&ndash; you can avoid complexity while avoiding the overhead of unnecessary thread spawning. In Rust, these constructs are &lsquo;tasks.&rsquo; When you run a task, instead of blocking, it returns control to the executor thread. The task runs until it would block, then returns <code>Async::Pending</code>. You also provide it a <code>Waker</code> so that it can wake itself up again.</p>

<p>An executor works by running each of the tasks until they block, and then <code>park</code>ing. A <code>Waker</code> contains a link back to the executor and inserts the task in the executor&rsquo;s ready set before <code>unpark</code>ing it.</p>

<p>Futures are tasks that can be chained. They must implement a type Item that is the result of the computation, a type Error, and a poll method that returns <code>Async::WillWake</code> or <code>Async::Ready(data: Item)</code>.</p>

<p>Futures are designed to be state machines: eg, one that alterates between the states <code>Reading</code> and <code>Writing</code>, returning <code>Async::NotReady</code> when it can&rsquo;t proceed.</p>

            </div>
        </div>
    </section>
</article>  <article class="preview">
    <header>
        <h1 class="post-title">
            <a href="https://idea.popcount.org/2014-04-03-bind-before-connect/">Bind Before Connect</a>
        </h1>
        <div class="post-meta">
            <time datetime=" 20 March 2018 ">20 March 2018</time>
            <ul class="article-taxonomy">
     
    <li>
        <i class="fa fa-tags"></i>
        <a href="/tags/programming">Programming</a>
        <a href="/tags/netorking">Netorking</a>
        <a href="/tags/how-to">How-to</a>
    </li>
    
</ul>

        </div>
    </header>
    <section class="post-excerpt">
        <div class="article-content">
            <div class="readmore">
                <p>If you create a socket and call <code>connect(dst, port)</code> on it, or first call <code>bind(src, port)</code> with port 0, the kernel will allocate from the pool of up to 64k available ports. However, with with <code>SO_REUSEPORT</code>, you can also share ports to create an effectively unlimited number of connections - as long as the destination address is different for each connection sharing the same port. To have multiple connections to the same IP/Port pair, you can use different source IP addresses instead.</p>

<p><code>SO_REUSEADDR</code> behaves slightly differently than <code>SO_REUSEPORT</code>, allowing reuse of addresses in the cooldown period after a process releases a socket, plus allowing binding of wildcard addresses (<code>0.0.0.0</code>) and normal addresses to the same port.</p>

<p>There are various implementation concerns (ie, <code>bind</code> is fine, but after <code>connect</code> one of the reuse rules is broken) that the linked post discusses.</p>

            </div>
        </div>
    </section>
</article>  
        </div>

        


<ul class="page-links">
  <li 
    class="page-links-disabled">
    <a href="" aria-label="Previous"><span aria-hidden="true">&lt;&#160;</span></a>
  </li>
  
  
  
  
  
   
    
    
  
  
    <li
      class="page-links-active"><a href="/readings/">1</a>
    </li>
    
  
  
  
  
   
    
    
  
  
    <li
      ><a href="/readings/page/2/">2</a>
    </li>
    
  
  <li
    >
    <a href="/readings/page/2/" aria-label="Next"><span aria-hidden="true">&#160;&gt;</span></a>
  </li>
</ul>



</main>

<footer class="footer">
  <ul class="footer-links">
    <li>
      <a href="https://lolney.github.io/index.xml" type="application/rss+xml" target="_blank">
        <i class="fa fa-rss"></i> RSS feed</a>
    </li>
    <li>
      <a href="https://github.com/lolney">
        <i class="fa fa-github"></i> Github</a>
    </li>
  </ul>
</footer>

</div>

</body>

</html>